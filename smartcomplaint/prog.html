<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMART Public Complaint System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }

        .tab-button {
            flex: 1;
            padding: 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
        }

        .tab-button:hover {
            background: #e9ecef;
            color: #495057;
        }

        .tab-button.active {
            color: #007bff;
            background: white;
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: #007bff;
        }

        .tab-content {
            display: none;
            padding: 30px;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
        }

        .form-group input.error, .form-group select.error, .form-group textarea.error {
            border-color: #dc3545;
            box-shadow: 0 0 0 3px rgba(220,53,69,0.1);
        }

        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }

        .success-message {
            color: #28a745;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }

        .validation-indicator {
            display: inline-block;
            margin-left: 10px;
            font-size: 18px;
        }

        .voice-controls {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .voice-btn {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .voice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40,167,69,0.3);
        }

        .voice-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        .voice-btn.recording {
            background: linear-gradient(45deg, #dc3545, #fd7e14);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Document Upload Styles */
        .document-upload {
            border: 2px dashed #dee2e6;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            background: #f8f9fa;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .document-upload.dragover {
            border-color: #007bff;
            background: #e3f2fd;
        }

        .document-upload.error {
            border-color: #dc3545;
            background: #f8d7da;
        }

        .document-upload input[type="file"] {
            display: none;
        }

        .upload-label {
            display: inline-block;
            background: linear-gradient(45deg, #007bff, #6610f2);
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .upload-label:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,123,255,0.3);
        }

        .document-preview {
            margin-top: 20px;
            display: none;
        }

        .preview-item {
            display: flex;
            align-items: center;
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-left: 4px solid #28a745;
        }

        .preview-item.invalid {
            border-left-color: #dc3545;
            background: #f8d7da;
        }

        .preview-icon {
            font-size: 2em;
            margin-right: 15px;
        }

        .preview-info {
            flex: 1;
        }

        .preview-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .preview-size {
            color: #666;
            font-size: 0.9em;
        }

        .preview-status {
            font-size: 0.8em;
            margin-top: 5px;
            font-weight: bold;
        }

        .preview-status.valid {
            color: #28a745;
        }

        .preview-status.invalid {
            color: #dc3545;
        }

        .preview-status.checking {
            color: #ffc107;
        }

        .remove-file {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
        }

        .location-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }

        .location-info h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .location-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .location-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }

        .location-item strong {
            color: #007bff;
        }

        .location-loading {
            color: #ffc107;
            font-style: italic;
        }

        .location-success {
            color: #28a745;
        }

        .location-error {
            color: #dc3545;
        }

        .btn-primary {
            background: linear-gradient(45deg, #007bff, #6610f2);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            width: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,123,255,0.3);
        }

        .btn-primary:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        .complaint-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 5px solid #007bff;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .complaint-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .complaint-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .complaint-id {
            font-weight: bold;
            color: #007bff;
            font-size: 1.2em;
        }

        .status-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-progress {
            background: #cce5ff;
            color: #004085;
        }

        .status-resolved {
            background: #d1e7dd;
            color: #0f5132;
        }

        .progress-timeline {
            margin: 20px 0;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            position: relative;
        }

        .timeline-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #007bff;
            margin-right: 15px;
            z-index: 1;
        }

        .timeline-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 5px;
            top: 20px;
            width: 2px;
            height: 30px;
            background: #dee2e6;
        }

        .offline-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #dc3545;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            display: none;
            z-index: 1000;
        }

        .offline-indicator.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        .language-selector {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 25px;
            padding: 10px 15px;
            color: white;
            cursor: pointer;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }

        .feature-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px);
        }

        .feature-icon {
            font-size: 3em;
            margin-bottom: 20px;
        }

        .feature-card h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .map-container {
            height: 300px;
            background: #f8f9fa;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            border: 2px dashed #dee2e6;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .voice-status {
            font-size: 0.9em;
            color: #666;
            margin-left: 10px;
        }

        .voice-language-selector {
            background: #e9ecef;
            border: 1px solid #ced4da;
            border-radius: 20px;
            padding: 8px 15px;
            font-size: 14px;
        }

        .no-complaints {
            text-align: center;
            padding: 40px;
            color: #666;
            font-style: italic;
        }

        .search-results {
            margin-top: 20px;
        }

        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0,0,0,.3);
            border-radius: 50%;
            border-top-color: #007bff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="offline-indicator" id="offlineIndicator">
        ЁЯУ╢ <span data-lang="offline">Offline Mode - Data will sync when online</span>
    </div>

    <div class="container">
        <div class="header">
            <select class="language-selector" id="languageSelector">
                <option value="en">ЁЯЗ║ЁЯЗ╕ English</option>
                <option value="hi">ЁЯЗоЁЯЗ│ рд╣рд┐рдВрджреА</option>
                <option value="ta">ЁЯЗоЁЯЗ│ родрооро┐ро┤рпН</option>
                <option value="bn">ЁЯЗоЁЯЗ│ ржмрж╛ржВрж▓рж╛</option>
            </select>
            <h1 data-lang="title">SMART Public Complaint System</h1>
            <p data-lang="subtitle">Voice-Enabled | Geo-Tagged | Multi-Channel Support</p>
        </div>

        <div class="nav-tabs">
            <button class="tab-button active" onclick="switchTab('complaint')">ЁЯУЭ <span data-lang="tab_complaint">File Complaint</span></button>
            <button class="tab-button" onclick="switchTab('track')">ЁЯУК <span data-lang="tab_track">Track Status</span></button>
            <button class="tab-button" onclick="switchTab('dashboard')">ЁЯУИ <span data-lang="tab_dashboard">Dashboard</span></button>
            <button class="tab-button" onclick="switchTab('features')">тЪб <span data-lang="tab_features">Features</span></button>
        </div>

        <div class="tab-content active" id="complaint">
            <form id="complaintForm">
                <div class="form-group">
                    <label for="complaintType" data-lang="complaint_type_label">Complaint Type</label>
                    <select id="complaintType" required>
                        <option value="" data-lang="select_complaint_type">Select complaint type</option>
                        <option value="water">ЁЯТз <span data-lang="water_supply">Water Supply Issues</span></option>
                        <option value="electricity">тЪб <span data-lang="electricity">Electricity Problems</span></option>
                        <option value="roads">ЁЯЫгя╕П <span data-lang="roads">Road & Infrastructure</span></option>
                        <option value="sanitation">ЁЯз╣ <span data-lang="sanitation">Sanitation & Cleanliness</span></option>
                        <option value="health">ЁЯПе <span data-lang="health">Healthcare Services</span></option>
                        <option value="education">ЁЯУЪ <span data-lang="education">Education Related</span></option>
                        <option value="other">ЁЯУЛ <span data-lang="other">Other Issues</span></option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="description" data-lang="complaint_description">Complaint Description</label>
                    <textarea id="description" rows="4" data-lang="description_placeholder" placeholder="Describe your complaint in detail..." required></textarea>
                    <div class="voice-controls">
                        <button type="button" class="voice-btn" id="voiceBtn">
                            ЁЯОд <span data-lang="record_voice">Record Voice Message</span>
                        </button>
                        <select class="voice-language-selector" id="voiceLanguageSelector">
                            <option value="en-US">English</option>
                            <option value="hi-IN">рд╣рд┐рдВрджреА</option>
                            <option value="ta-IN">родрооро┐ро┤рпН</option>
                            <option value="bn-IN">ржмрж╛ржВрж▓рж╛</option>
                        </select>
                        <span class="voice-status" id="voiceStatus" data-lang="voice_status">Click to start voice recording</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="identityProof" data-lang="identity_proof">Identity Proof (Required)</label>
                    <div class="document-upload" id="documentUpload">
                        <input type="file" id="identityProof" accept=".jpg,.jpeg,.png,.pdf" multiple required>
                        <label for="identityProof" class="upload-label">
                            ЁЯУД <span data-lang="upload_documents">Upload Aadhaar/ID Documents</span>
                        </label>
                        <p style="margin-top: 15px; color: #666;" data-lang="upload_instructions">
                            Drag & drop files here or click to browse<br>
                            Supported: JPG, PNG, PDF (Max 5MB each)
                        </p>
                    </div>
                    <div class="error-message" id="documentError">Please upload valid identity documents</div>
                    <div class="document-preview" id="documentPreview"></div>
                </div>

                <div class="location-info" id="locationInfo">
                    <h3>ЁЯУН <span data-lang="location_info">Location Information</span></h3>
                    <div class="location-details">
                        <div class="location-item">
                            <strong data-lang="coordinates">Coordinates:</strong><br>
                            <span id="coordinates" class="location-loading" data-lang="getting_location">Getting location...</span>
                        </div>
                        <div class="location-item">
                            <strong data-lang="address">Address:</strong><br>
                            <span id="address" class="location-loading" data-lang="resolving_address">Resolving address...</span>
                        </div>
                        <div class="location-item">
                            <strong data-lang="district">District:</strong><br>
                            <span id="district" class="location-loading" data-lang="auto_detected">Auto-detecting...</span>
                        </div>
                    </div>
                    <div class="map-container">
                        <div data-lang="map_view">ЁЯЧ║я╕П Interactive Map View (OpenStreetMap Integration)</div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="priority" data-lang="priority_level">Priority Level</label>
                    <select id="priority" required>
                        <option value="low">ЁЯЯв <span data-lang="low_priority">Low - Non-urgent issue</span></option>
                        <option value="medium">ЁЯЯб <span data-lang="medium_priority">Medium - Moderate urgency</span></option>
                        <option value="high">ЁЯФ┤ <span data-lang="high_priority">High - Urgent attention needed</span></option>
                        <option value="critical">ЁЯЪи <span data-lang="critical_priority">Critical - Emergency</span></option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="contact" data-lang="contact_info">Contact Information</label>
                    <input type="tel" id="contact" data-lang="contact_placeholder" placeholder="Mobile number for updates" required>
                    <div class="error-message" id="phoneError">Please enter a valid 10-digit mobile number</div>
                    <div class="success-message" id="phoneSuccess">тЬУ Valid phone number</div>
                </div>

                <button type="submit" class="btn-primary" id="submitBtn">ЁЯЪА <span data-lang="submit_complaint">Submit Complaint</span></button>
            </form>
        </div>

        <div class="tab-content" id="track">
            <h2 data-lang="track_complaints">Track Your Complaints</h2>
           
            <div class="form-group">
                <label for="trackingId" data-lang="tracking_id_label">Enter Complaint ID or Mobile Number</label>
                <input type="text" id="trackingId" placeholder="e.g., CMP-2024-001 or +91-9876543210">
                <button type="button" class="btn-primary" onclick="searchComplaints()" style="margin-top: 15px; width: auto; padding: 12px 25px;">ЁЯФН <span data-lang="search">Search</span></button>
            </div>

            <div class="search-results" id="searchResults">
                <!-- Sample complaint for demonstration -->
                <div class="complaint-card" data-complaint-id="CMP-2024-001">
                    <div class="complaint-header">
                        <span class="complaint-id">CMP-2024-001</span>
                        <span class="status-badge status-progress" data-lang="status_progress">In Progress</span>
                    </div>
                    <h3 data-lang="sample_complaint">Water Supply Disruption in Village Center</h3>
                    <p><strong data-lang="location">Location:</strong> <span data-lang="sample_location">Main Road, Village Center</span></p>
                    <p><strong data-lang="submitted">Submitted:</strong> Sept 10, 2024 | <strong data-lang="priority">Priority:</strong> <span data-lang="high">High</span></p>
                   
                    <div class="progress-timeline">
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div>
                                <strong data-lang="complaint_submitted">Complaint Submitted</strong><br>
                                <small>Sept 10, 2024 - 2:30 PM</small>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div>
                                <strong data-lang="assigned_dept">Assigned to Department</strong><br>
                                <small>Sept 10, 2024 - 3:15 PM - Water Supply Dept.</small>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div>
                                <strong data-lang="inspection_started">Field Inspection Started</strong><br>
                                <small>Sept 11, 2024 - 10:00 AM - Inspector: Mr. Sharma</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="complaint-card" data-complaint-id="CMP-2024-002">
                    <div class="complaint-header">
                        <span class="complaint-id">CMP-2024-002</span>
                        <span class="status-badge status-resolved" data-lang="status_resolved">Resolved</span>
                    </div>
                    <h3 data-lang="sample_resolved">Street Light Not Working</h3>
                    <p><strong data-lang="location">Location:</strong> <span data-lang="market_street">Market Street</span></p>
                    <p><strong data-lang="resolved">Resolved:</strong> Sept 8, 2024 | <strong data-lang="resolution_time">Resolution Time:</strong> 2 days</p>
                </div>
            </div>

            <div class="no-complaints" id="noComplaints" style="display: none;">
                No complaints found for the provided search criteria.
            </div>
        </div>

        <div class="tab-content" id="dashboard">
            <h2 data-lang="system_dashboard">System Dashboard</h2>
           
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">1,247</div>
                    <div class="stat-label" data-lang="total_complaints">Total Complaints</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">856</div>
                    <div class="stat-label" data-lang="resolved">Resolved</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">324</div>
                    <div class="stat-label" data-lang="in_progress">In Progress</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">67</div>
                    <div class="stat-label" data-lang="pending">Pending</div>
                </div>
            </div>

            <h3 data-lang="recent_activity">Recent Activity</h3>
            <div class="complaint-card">
                <h4>ЁЯУК <span data-lang="system_performance">System Performance</span></h4>
                <p><strong data-lang="avg_resolution">Average Resolution Time:</strong> 3.2 days</p>
                <p><strong data-lang="response_rate">Department Response Rate:</strong> 94%</p>
                <p><strong data-lang="satisfaction">Citizen Satisfaction:</strong> 4.2/5</p>
                <p><strong data-lang="escalated_cases">Auto-escalated Cases:</strong> 23 this month</p>
            </div>

            <div class="complaint-card">
                <h4>ЁЯЧ║я╕П <span data-lang="geographic_distribution">Geographic Distribution</span></h4>
                <div class="map-container">
                    <div data-lang="heat_map">Interactive Heat Map showing complaint density across regions</div>
                </div>
            </div>
        </div>

        <div class="tab-content" id="features">
            <h2 data-lang="system_features">System Features</h2>
           
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">ЁЯОд</div>
                    <h3 data-lang="voice_enabled">Voice-Enabled</h3>
                    <p data-lang="voice_description">Record complaints in local languages using voice input. No typing required - perfect for users with limited literacy.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ЁЯУН</div>
                    <h3 data-lang="geo_tagging">Geo-Tagging</h3>
                    <p data-lang="geo_description">Automatic location capture using GPS coordinates. Complaints are mapped to exact locations for precise department routing.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ЁЯМН</div>
                    <h3 data-lang="multi_language">Multi-Language</h3>
                    <p data-lang="language_description">Support for local languages including Hindi, Tamil, Bengali, and regional dialects for better accessibility.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ЁЯУ▒</div>
                    <h3 data-lang="multi_channel">Multi-Channel</h3>
                    <p data-lang="channel_description">Submit via web app, SMS, IVR calls, or USSD codes. Works on smartphones, feature phones, and landlines.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ЁЯУ╢</div>
                    <h3 data-lang="offline_mode">Offline Mode</h3>
                    <p data-lang="offline_description">PWA technology enables offline complaint submission. Data syncs automatically when connection is restored.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">тмЖя╕П</div>
                    <h3 data-lang="auto_escalation">Auto-Escalation</h3>
                    <p data-lang="escalation_description">Complaints automatically escalate to higher authorities if not addressed within defined timeframes.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ЁЯУК</div>
                    <h3 data-lang="real_time_tracking">Real-Time Tracking</h3>
                    <p data-lang="tracking_description">Citizens can track complaint status in real-time with SMS updates and detailed progress timelines.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ЁЯФД</div>
                    <h3 data-lang="smart_routing">Smart Routing</h3>
                    <p data-lang="routing_description">AI-powered complaint categorization and automatic routing to relevant departments based on type and location.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">ЁЯФТ</div>
                    <h3>Document Validation</h3>
                    <p>Advanced OCR and AI validation ensures only authentic identity documents are accepted, preventing spam and fake complaints.</p>
                </div>
            </div>

            <div class="complaint-card">
                <h3>ЁЯПЧя╕П <span data-lang="technical_architecture">Technical Architecture</span></h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div>
                        <strong data-lang="frontend">Frontend:</strong><br>
                        тАв HTML5, CSS3, JavaScript<br>
                        тАв Progressive Web App (PWA)<br>
                        тАв Responsive Design
                    </div>
                    <div>
                        <strong data-lang="backend">Backend:</strong><br>
                        тАв Python Flask/Django<br>
                        тАв Java Spring Boot<br>
                        тАв RESTful APIs
                    </div>
                    <div>
                        <strong data-lang="database">Database:</strong><br>
                        тАв SQLite (offline)<br>
                        тАв PostgreSQL + PostGIS<br>
                        тАв Geo-spatial indexing
                    </div>
                    <div>
                        <strong data-lang="integrations">Integrations:</strong><br>
                        тАв HTML5 Geolocation<br>
                        тАв OpenStreetMap<br>
                        тАв Web Speech API
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Language translations
        const translations = {
            en: {
                title: "SMART Public Complaint System",
                subtitle: "Voice-Enabled | Geo-Tagged | Multi-Channel Support",
                tab_complaint: "File Complaint",
                tab_track: "Track Status",
                tab_dashboard: "Dashboard",
                tab_features: "Features",
                complaint_type_label: "Complaint Type",
                select_complaint_type: "Select complaint type",
                water_supply: "Water Supply Issues",
                electricity: "Electricity Problems",
                roads: "Road & Infrastructure",
                sanitation: "Sanitation & Cleanliness",
                health: "Healthcare Services",
                education: "Education Related",
                other: "Other Issues",
                complaint_description: "Complaint Description",
                description_placeholder: "Describe your complaint in detail...",
                record_voice: "Record Voice Message",
                voice_status: "Click to start voice recording",
                identity_proof: "Identity Proof (Required)",
                upload_documents: "Upload Aadhaar/ID Documents",
                upload_instructions: "Drag & drop files here or click to browse<br>Supported: JPG, PNG, PDF (Max 5MB each)",
                location_info: "Location Information",
                coordinates: "Coordinates",
                getting_location: "Getting location...",
                address: "Address",
                resolving_address: "Resolving address...",
                district: "District",
                auto_detected: "Auto-detected",
                map_view: "Interactive Map View (OpenStreetMap Integration)",
                priority_level: "Priority Level",
                low_priority: "Low - Non-urgent issue",
                medium_priority: "Medium - Moderate urgency",
                high_priority: "High - Urgent attention needed",
                critical_priority: "Critical - Emergency",
                contact_info: "Contact Information",
                contact_placeholder: "Mobile number for updates",
                submit_complaint: "Submit Complaint",
                track_complaints: "Track Your Complaints",
                tracking_id_label: "Enter Complaint ID or Mobile Number",
                search: "Search",
                status_progress: "In Progress",
                status_resolved: "Resolved",
                sample_complaint: "Water Supply Disruption in Village Center",
                location: "Location",
                sample_location: "Main Road, Village Center",
                submitted: "Submitted",
                priority: "Priority",
                high: "High",
                complaint_submitted: "Complaint Submitted",
                assigned_dept: "Assigned to Department",
                inspection_started: "Field Inspection Started",
                sample_resolved: "Street Light Not Working",
                market_street: "Market Street",
                resolved: "Resolved",
                resolution_time: "Resolution Time",
                system_dashboard: "System Dashboard",
                total_complaints: "Total Complaints",
                in_progress: "In Progress",
                pending: "Pending",
                recent_activity: "Recent Activity",
                system_performance: "System Performance",
                avg_resolution: "Average Resolution Time",
                response_rate: "Department Response Rate",
                satisfaction: "Citizen Satisfaction",
                escalated_cases: "Auto-escalated Cases",
                geographic_distribution: "Geographic Distribution",
                heat_map: "Interactive Heat Map showing complaint density across regions",
                system_features: "System Features",
                voice_enabled: "Voice-Enabled",
                voice_description: "Record complaints in local languages using voice input. No typing required - perfect for users with limited literacy.",
                geo_tagging: "Geo-Tagging",
                geo_description: "Automatic location capture using GPS coordinates. Complaints are mapped to exact locations for precise department routing.",
                multi_language: "Multi-Language",
                language_description: "Support for local languages including Hindi, Tamil, Bengali, and regional dialects for better accessibility.",
                multi_channel: "Multi-Channel",
                channel_description: "Submit via web app, SMS, IVR calls, or USSD codes. Works on smartphones, feature phones, and landlines.",
                offline_mode: "Offline Mode",
                offline_description: "PWA technology enables offline complaint submission. Data syncs automatically when connection is restored.",
                auto_escalation: "Auto-Escalation",
                escalation_description: "Complaints automatically escalate to higher authorities if not addressed within defined timeframes.",
                real_time_tracking: "Real-Time Tracking",
                tracking_description: "Citizens can track complaint status in real-time with SMS updates and detailed progress timelines.",
                smart_routing: "Smart Routing",
                routing_description: "AI-powered complaint categorization and automatic routing to relevant departments based on type and location.",
                technical_architecture: "Technical Architecture",
                frontend: "Frontend",
                backend: "Backend",
                database: "Database",
                integrations: "Integrations",
                offline: "Offline Mode - Data will sync when online"
            },
            hi: {
                title: "рд╕реНрдорд╛рд░реНрдЯ рдЬрди рд╢рд┐рдХрд╛рдпрдд рдкреНрд░рдгрд╛рд▓реА",
                subtitle: "рд╡реЙрдпрд╕-рд╕рдХреНрд╖рдо | рдЬрд┐рдпреЛ-рдЯреИрдЧреНрдб | рдорд▓реНрдЯреА-рдЪреИрдирд▓ рд╕рдкреЛрд░реНрдЯ",
                tab_complaint: "рд╢рд┐рдХрд╛рдпрдд рджрд░реНрдЬ рдХрд░реЗрдВ",
                tab_track: "рд╕реНрдерд┐рддрд┐ рдЯреНрд░реИрдХ рдХрд░реЗрдВ",
                tab_dashboard: "рдбреИрд╢рдмреЛрд░реНрдб",
                tab_features: "рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ",
                complaint_type_label: "рд╢рд┐рдХрд╛рдпрдд рдХрд╛ рдкреНрд░рдХрд╛рд░",
                select_complaint_type: "рд╢рд┐рдХрд╛рдпрдд рдХрд╛ рдкреНрд░рдХрд╛рд░ рдЪреБрдиреЗрдВ",
                water_supply: "рдкрд╛рдиреА рдЖрдкреВрд░реНрддрд┐ рдХреА рд╕рдорд╕реНрдпрд╛рдПрдВ",
                electricity: "рдмрд┐рдЬрд▓реА рдХреА рд╕рдорд╕реНрдпрд╛рдПрдВ",
                roads: "рд╕рдбрд╝рдХ рдФрд░ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪрд╛",
                sanitation: "рд╕реНрд╡рдЪреНрдЫрддрд╛ рдФрд░ рд╕рдлрд╛рдИ",
                health: "рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реЗрд╡рд╛рдПрдВ",
                education: "рд╢рд┐рдХреНрд╖рд╛ рд╕рдВрдмрдВрдзреА",
                other: "рдЕрдиреНрдп рд╕рдорд╕реНрдпрд╛рдПрдВ",
                complaint_description: "рд╢рд┐рдХрд╛рдпрдд рдХрд╛ рд╡рд┐рд╡рд░рдг",
                description_placeholder: "рдЕрдкрдиреА рд╢рд┐рдХрд╛рдпрдд рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрди рдХрд░реЗрдВ...",
                record_voice: "рд╡реЙрдпрд╕ рдореИрд╕реЗрдЬ рд░рд┐рдХреЙрд░реНрдб рдХрд░реЗрдВ",
                voice_status: "рд╡реЙрдпрд╕ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ",
                identity_proof: "рдкрд╣рдЪрд╛рди рдкреНрд░рдорд╛рдг (рдЖрд╡рд╢реНрдпрдХ)",
                upload_documents: "рдЖрдзрд╛рд░/рдЖрдИрдбреА рджрд╕реНрддрд╛рд╡реЗрдЬ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ",
                upload_instructions: "рдлрд╛рдЗрд▓реЗрдВ рдпрд╣рд╛рдВ рдЦреАрдВрдЪреЗрдВ рдФрд░ рдЫреЛрдбрд╝реЗрдВ рдпрд╛ рдмреНрд░рд╛рдЙрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ<br>рд╕рдорд░реНрдерд┐рдд: JPG, PNG, PDF (рдкреНрд░рддреНрдпреЗрдХ рдЕрдзрд┐рдХрддрдо 5MB)",
                location_info: "рд╕реНрдерд╛рди рдХреА рдЬрд╛рдирдХрд╛рд░реА",
                coordinates: "рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ",
                getting_location: "рд╕реНрдерд╛рди рдкреНрд░рд╛рдкреНрдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ...",
                address: "рдкрддрд╛",
                resolving_address: "рдкрддрд╛ рдирд┐рдХрд╛рд▓ рд░рд╣реЗ рд╣реИрдВ...",
                district: "рдЬрд┐рд▓рд╛",
                auto_detected: "рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкрддрд╛ рдЪрд▓рд╛",
                map_view: "рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдореИрдк рд╡реНрдпреВ (рдУрдкрдирд╕реНрдЯреНрд░реАрдЯрдореИрдк рдПрдХреАрдХрд░рдг)",
                priority_level: "рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рд╕реНрддрд░",
                low_priority: "рдХрдо - рдЧреИрд░-рдЬрд░реВрд░реА рд╕рдорд╕реНрдпрд╛",
                medium_priority: "рдордзреНрдпрдо - рдордзреНрдпрдо рддрд╛рддреНрдХрд╛рд▓рд┐рдХрддрд╛",
                high_priority: "рдЙрдЪреНрдЪ - рддрддреНрдХрд╛рд▓ рдзреНрдпрд╛рди рдЪрд╛рд╣рд┐рдП",
                critical_priority: "рдорд╣рддреНрд╡рдкреВрд░реНрдг - рдЖрдкрд╛рддрдХрд╛рд▓",
                contact_info: "рд╕рдВрдкрд░реНрдХ рдЬрд╛рдирдХрд╛рд░реА",
                contact_placeholder: "рдЕрдкрдбреЗрдЯ рдХреЗ рд▓рд┐рдП рдореЛрдмрд╛рдЗрд▓ рдирдВрдмрд░",
                submit_complaint: "рд╢рд┐рдХрд╛рдпрдд рдЬрдорд╛ рдХрд░реЗрдВ",
                track_complaints: "рдЕрдкрдиреА рд╢рд┐рдХрд╛рдпрддреЛрдВ рдХреЛ рдЯреНрд░реИрдХ рдХрд░реЗрдВ",
                tracking_id_label: "рд╢рд┐рдХрд╛рдпрдд рдЖрдИрдбреА рдпрд╛ рдореЛрдмрд╛рдЗрд▓ рдирдВрдмрд░ рджрд░реНрдЬ рдХрд░реЗрдВ",
                search: "рдЦреЛрдЬреЗрдВ",
                offline: "рдСрдлрд╝рд▓рд╛рдЗрди рдореЛрдб - рдСрдирд▓рд╛рдЗрди рд╣реЛрдиреЗ рдкрд░ рдбреЗрдЯрд╛ рд╕рд┐рдВрдХ рд╣реЛ рдЬрд╛рдПрдЧрд╛"
            },
            ta: {
                title: "ро╕рпНрооро╛ро░рпНроЯрпН рокрпКродрпБ рокрпБроХро╛ро░рпН роЕроорпИрокрпНрокрпБ",
                subtitle: "роХрпБро░ро▓рпН-роЗропроХрпНроХроорпН | рокрпВро╡ро┐-роЯро╛роХрпН | рокро▓-роЪрпЗройро▓рпН роЖродро░ро╡рпБ",
                tab_complaint: "рокрпБроХро╛ро░рпН родро╛роХрпНроХро▓рпН роЪрпЖропрпНропрпБроЩрпНроХро│рпН",
                tab_track: "роиро┐ро▓рпИроорпИ роХрогрпНроХро╛рогро┐роХрпНроХро╡рпБроорпН",
                tab_dashboard: "роЯро╛ро╖рпНрокрпЛро░рпНроЯрпН",
                tab_features: "роЕроорпНроЪроЩрпНроХро│рпН",
                complaint_type_label: "рокрпБроХро╛ро░рпН ро╡роХрпИ",
                select_complaint_type: "рокрпБроХро╛ро░рпН ро╡роХрпИропрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН",
                water_supply: "роирпАро░рпН ро╡ро┤роЩрпНроХро▓рпН рокро┐ро░роЪрпНроЪро┐ройрпИроХро│рпН",
                electricity: "рооро┐ройрпНроЪро╛ро░ рокро┐ро░роЪрпНроЪро┐ройрпИроХро│рпН",
                roads: "роЪро╛ро▓рпИ рооро▒рпНро▒рпБроорпН роЙро│рпНроХроЯрпНроЯроорпИрокрпНрокрпБ",
                sanitation: "роЪрпБроХро╛родро╛ро░роорпН рооро▒рпНро▒рпБроорпН родрпВропрпНроорпИ",
                health: "роЪрпБроХро╛родро╛ро░ роЪрпЗро╡рпИроХро│рпН",
                education: "роХро▓рпНро╡ро┐ родрпКроЯро░рпНрокро╛рой",
                other: "рокро┐ро▒ рокро┐ро░роЪрпНроЪро┐ройрпИроХро│рпН",
                complaint_description: "рокрпБроХро╛ро░рпН ро╡ро┐ро╡ро░роорпН",
                description_placeholder: "роЙроЩрпНроХро│рпН рокрпБроХро╛ро░рпИ ро╡ро┐ро░ро┐ро╡ро╛роХ ро╡ро┐ро╡ро░ро┐роХрпНроХро╡рпБроорпН...",
                record_voice: "роХрпБро░ро▓рпН роЪрпЖропрпНродро┐ропрпИ рокродро┐ро╡рпБ роЪрпЖропрпНропрпБроЩрпНроХро│рпН",
                voice_status: "роХрпБро░ро▓рпН рокродро┐ро╡рпИродрпН родрпКроЯроЩрпНроХ роХро┐ро│ро┐роХрпН роЪрпЖропрпНропро╡рпБроорпН",
                identity_proof: "роЕроЯрпИропро╛ро│ роЪро╛ройрпНро▒рпБ (родрпЗро╡рпИ)",
                upload_documents: "роЖродро╛ро░рпН/роЕроЯрпИропро╛ро│ роЖро╡рогроЩрпНроХро│рпИрокрпН рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН",
                upload_instructions: "роХрпЛрокрпНрокрпБроХро│рпИ роЗроЩрпНроХрпЗ роЗро┤рпБродрпНродрпБ ро╡ро┐роЯро╡рпБроорпН роЕро▓рпНро▓родрпБ роЙро▓ро╛ро╡ роХро┐ро│ро┐роХрпН роЪрпЖропрпНропро╡рпБроорпН<br>роЖродро░ро┐роХрпНроХрокрпНрокроЯрпБроорпН: JPG, PNG, PDF (роТро╡рпНро╡рпКройрпНро▒рпБроорпН роЕродро┐роХрокроЯрпНроЪроорпН 5MB)",
                location_info: "роЗроЯ родроХро╡ро▓рпН",
                coordinates: "роТро░рпБроЩрпНроХро┐рогрпИрокрпНрокрпБроХро│рпН",
                getting_location: "роЗроЯроорпН рокрпЖро▒рпБроХро┐ро▒родрпБ...",
                address: "роорпБроХро╡ро░ро┐",
                resolving_address: "роорпБроХро╡ро░ро┐ропрпИродрпН родрпАро░рпНроХрпНроХро┐ро▒родрпБ...",
                district: "рооро╛ро╡роЯрпНроЯроорпН",
                auto_detected: "родро╛ройро╛роХ роХрогрпНроЯрпБрокро┐роЯро┐роХрпНроХрокрпНрокроЯрпНроЯродрпБ",
                map_view: "роКроЯро╛роЯрпБроорпН ро╡ро░рпИрокроЯ роХро╛роЯрпНроЪро┐ (роУрокройрпНро╕рпНроЯрпНро░рпАроЯрпНроорпЗрокрпН роТро░рпБроЩрпНроХро┐рогрпИрокрпНрокрпБ)",
                priority_level: "роорпБройрпНройрпБро░ро┐роорпИ роиро┐ро▓рпИ",
                low_priority: "роХрпБро▒рпИроирпНрод - роЕро╡роЪро░рооро┐ро▓рпНро▓ро╛род рокро┐ро░роЪрпНроЪро┐ройрпИ",
                medium_priority: "роироЯрпБродрпНродро░ - рооро┐родрооро╛рой роЕро╡роЪро░роорпН",
                high_priority: "роЙропро░рпН - роЕро╡роЪро░ роХро╡ройроорпН родрпЗро╡рпИ",
                critical_priority: "роорпБроХрпНроХро┐ропрооро╛рой - роЕро╡роЪро░роиро┐ро▓рпИ",
                contact_info: "родрпКроЯро░рпНрокрпБ родроХро╡ро▓рпН",
                contact_placeholder: "рокрпБродрпБрокрпНрокро┐рокрпНрокрпБроХро│рпБроХрпНроХро╛рой роорпКрокрпИро▓рпН роОрогрпН",
                submit_complaint: "рокрпБроХро╛ро░рпН роЪрооро░рпНрокрпНрокро┐роХрпНроХро╡рпБроорпН",
                track_complaints: "роЙроЩрпНроХро│рпН рокрпБроХро╛ро░рпНроХро│рпИроХрпН роХрогрпНроХро╛рогро┐роХрпНроХро╡рпБроорпН",
                tracking_id_label: "рокрпБроХро╛ро░рпН роРроЯро┐ роЕро▓рпНро▓родрпБ роорпКрокрпИро▓рпН роОрогрпНрогрпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН",
                search: "родрпЗроЯрпБ",
                offline: "роЖроГрокрпНро▓рпИройрпН рокропройрпНроорпБро▒рпИ - роЖройрпНро▓рпИройро┐ро▓рпН роЗро░рпБроХрпНроХрпБроорпНрокрпЛродрпБ родро░ро╡рпБ роТродрпНродро┐роЪрпИроХрпНроХрокрпНрокроЯрпБроорпН"
            },
            bn: {
                title: "рж╕рзНржорж╛рж░рзНржЯ ржкрж╛ржмрж▓рж┐ржХ ржЕржнрж┐ржпрзЛржЧ рж╕рж┐рж╕рзНржЯрзЗржо",
                subtitle: "ржнржпрж╝рзЗрж╕-рж╕ржХрзНрж╖ржо | ржЬрж┐ржУ-ржЯрзНржпрж╛ржЧржб | ржорж╛рж▓рзНржЯрж┐-ржЪрзНржпрж╛ржирзЗрж▓ рж╕рж╛ржкрзЛрж░рзНржЯ",
                tab_complaint: "ржЕржнрж┐ржпрзЛржЧ ржжрж╛ржЦрж┐рж▓ ржХрж░рзБржи",
                tab_track: "рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рзБржи",
                tab_dashboard: "ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб",
                tab_features: "ржмрзИрж╢рж┐рж╖рзНржЯрзНржпрж╕ржорзВрж╣",
                complaint_type_label: "ржЕржнрж┐ржпрзЛржЧрзЗрж░ ржзрж░ржи",
                select_complaint_type: "ржЕржнрж┐ржпрзЛржЧрзЗрж░ ржзрж░ржи ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи",
                water_supply: "ржкрж╛ржирж┐ рж╕рж░ржмрж░рж╛рж╣рзЗрж░ рж╕ржорж╕рзНржпрж╛",
                electricity: "ржмрж┐ржжрзНржпрзБрзО рж╕ржорж╕рзНржпрж╛",
                roads: "рж░рж╛рж╕рзНрждрж╛ ржУ ржЕржмржХрж╛ржарж╛ржорзЛ",
                sanitation: "рж╕рзНржпрж╛ржирж┐ржЯрзЗрж╢ржи ржУ ржкрж░рж┐ржЪрзНржЫржирзНржирждрж╛",
                health: "рж╕рзНржмрж╛рж╕рзНржерзНржп рж╕рзЗржмрж╛",
                education: "рж╢рж┐ржХрзНрж╖рж╛ рж╕ржВржХрзНрж░рж╛ржирзНржд",
                other: "ржЕржирзНржпрж╛ржирзНржп рж╕ржорж╕рзНржпрж╛",
                complaint_description: "ржЕржнрж┐ржпрзЛржЧрзЗрж░ ржмрж┐ржмрж░ржг",
                description_placeholder: "ржЖржкржирж╛рж░ ржЕржнрж┐ржпрзЛржЧ ржмрж┐рж╕рзНрждрж╛рж░рж┐рждржнрж╛ржмрзЗ ржмрж░рзНржгржирж╛ ржХрж░рзБржи...",
                record_voice: "ржнржпрж╝рзЗрж╕ ржмрж╛рж░рзНрждрж╛ рж░рзЗржХрж░рзНржб ржХрж░рзБржи",
                voice_status: "ржнржпрж╝рзЗрж╕ рж░рзЗржХрж░рзНржбрж┐ржВ рж╢рзБрж░рзБ ржХрж░рждрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи",
                identity_proof: "ржкрж░рж┐ржЪржпрж╝ ржкрзНрж░ржорж╛ржг (ржЖржмрж╢рзНржпржХ)",
                upload_documents: "ржЖржзрж╛рж░/ржЖржЗржбрж┐ ржиржерж┐ ржЖржкрж▓рзЛржб ржХрж░рзБржи",
                upload_instructions: "ржлрж╛ржЗрж▓ржЧрзБрж▓рж┐ ржПржЦрж╛ржирзЗ ржЯрзЗржирзЗ ржЖржирзБржи ржмрж╛ ржмрзНрж░рж╛ржЙржЬ ржХрж░рждрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи<br>рж╕ржорж░рзНржерж┐ржд: JPG, PNG, PDF (ржкрзНрж░рждрж┐ржЯрж┐ рж╕рж░рзНржмрзЛржЪрзНржЪ 5MB)",
                location_info: "ржЕржмрж╕рзНржерж╛ржирзЗрж░ рждржерзНржп",
                coordinates: "рж╕рзНржерж╛ржирж╛ржВржХ",
                getting_location: "ржЕржмрж╕рзНржерж╛ржи ржкрж╛ржУржпрж╝рж╛ рж╣ржЪрзНржЫрзЗ...",
                address: "ржарж┐ржХрж╛ржирж╛",
                resolving_address: "ржарж┐ржХрж╛ржирж╛ рж╕ржорж╛ржзрж╛ржи рж╣ржЪрзНржЫрзЗ...",
                district: "ржЬрзЗрж▓рж╛",
                auto_detected: "рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ рж╕ржирж╛ржХрзНржд",
                map_view: "ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрзНржЯрж┐ржн ржорзНржпрж╛ржк ржнрж┐ржЙ (ржУржкрзЗржирж╕рзНржЯрзНрж░рж┐ржЯржорзНржпрж╛ржк ржЗржирзНржЯрж┐ржЧрзНрж░рзЗрж╢ржи)",
                priority_level: "ржЕржЧрзНрж░рж╛ржзрж┐ржХрж╛рж░ рж╕рзНрждрж░",
                low_priority: "ржХржо - ржЬрж░рзБрж░рж┐ ржиржпрж╝ ржПржоржи рж╕ржорж╕рзНржпрж╛",
                medium_priority: "ржоржзрзНржпржо - ржорж╛ржЭрж╛рж░рж┐ ржЬрж░рзБрж░рж┐",
                high_priority: "ржЙржЪрзНржЪ - ржЬрж░рзБрж░рж┐ ржоржирзЛржпрзЛржЧ ржкрзНрж░ржпрж╝рзЛржЬржи",
                critical_priority: "ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг - ржЬрж░рзБрж░рж┐ ржЕржмрж╕рзНржерж╛",
                contact_info: "ржпрзЛржЧрж╛ржпрзЛржЧрзЗрж░ рждржерзНржп",
                contact_placeholder: "ржЖржкржбрзЗржЯрзЗрж░ ржЬржирзНржп ржорзЛржмрж╛ржЗрж▓ ржиржорзНржмрж░",
                submit_complaint: "ржЕржнрж┐ржпрзЛржЧ ржЬржорж╛ ржжрж┐ржи",
                track_complaints: "ржЖржкржирж╛рж░ ржЕржнрж┐ржпрзЛржЧ ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рзБржи",
                tracking_id_label: "ржЕржнрж┐ржпрзЛржЧ ржЖржЗржбрж┐ ржмрж╛ ржорзЛржмрж╛ржЗрж▓ ржиржорзНржмрж░ рж▓рж┐ржЦрзБржи",
                search: "ржЕржирзБрж╕ржирзНржзрж╛ржи",
                offline: "ржЕржлрж▓рж╛ржЗржи ржорзЛржб - ржЕржирж▓рж╛ржЗржи ржерж╛ржХрж▓рзЗ ржбрзЗржЯрж╛ рж╕рж┐ржЩрзНржХ рж╣ржмрзЗ"
            }
        };

        // Global variables
        let currentLanguage = 'en';
        let isRecording = false;
        let recognition = null;
        let uploadedFiles = [];
        let complaints = JSON.parse(localStorage.getItem('complaints') || '[]');
        let currentLocation = null;

        // Enhanced document validation using OCR simulation
        class DocumentValidator {
            static async validateDocument(file) {
                return new Promise((resolve) => {
                    const reader = new FileReader();
                    reader.onload = async (e) => {
                        const result = await this.performOCRValidation(e.target.result, file.name);
                        resolve(result);
                    };
                    reader.readAsDataURL(file);
                });
            }

            static async performOCRValidation(dataUrl, fileName) {
                // Simulate OCR processing delay
                await new Promise(resolve => setTimeout(resolve, 2000));

                // Simulate document validation logic
                const validationResult = {
                    isValid: false,
                    confidence: 0,
                    documentType: 'unknown',
                    errors: []
                };

                // Check file name patterns for common ID documents
                const aadhaarPattern = /aadhaar|aadhar/i;
                const panPattern = /pan|income|tax/i;
                const voterPattern = /voter|election/i;
                const drivingPattern = /driving|license|dl/i;

                if (aadhaarPattern.test(fileName)) {
                    validationResult.documentType = 'aadhaar';
                    validationResult.confidence = Math.random() * 40 + 60; // 60-100%
                } else if (panPattern.test(fileName)) {
                    validationResult.documentType = 'pan';
                    validationResult.confidence = Math.random() * 40 + 60;
                } else if (voterPattern.test(fileName)) {
                    validationResult.documentType = 'voter_id';
                    validationResult.confidence = Math.random() * 40 + 60;
                } else if (drivingPattern.test(fileName)) {
                    validationResult.documentType = 'driving_license';
                    validationResult.confidence = Math.random() * 40 + 60;
                } else {
                    validationResult.confidence = Math.random() * 30 + 20; // 20-50%
                }

                // Validation logic
                if (validationResult.confidence > 70) {
                    validationResult.isValid = true;
                } else if (validationResult.confidence > 50) {
                    validationResult.isValid = true;
                    validationResult.errors.push('Document quality could be better');
                } else {
                    validationResult.isValid = false;
                    validationResult.errors.push('Document appears to be invalid or unreadable');
                }

                // Random additional validations
                if (Math.random() > 0.8) {
                    validationResult.errors.push('Text clarity needs improvement');
                }

                return validationResult;
            }
        }

        // Phone number validation
        function validatePhoneNumber(phone) {
            // Remove all non-digit characters
            const cleaned = phone.replace(/\D/g, '');
            
            // Check for Indian mobile number patterns
            const patterns = [
                /^[6-9]\d{9}$/, // 10-digit starting with 6-9
                /^91[6-9]\d{9}$/, // With country code
                /^0[6-9]\d{9}$/ // With leading zero
            ];

            return patterns.some(pattern => pattern.test(cleaned));
        }

        // Enhanced geolocation with reverse geocoding
        async function getEnhancedLocation() {
            return new Promise((resolve, reject) => {
                if (!navigator.geolocation) {
                    reject(new Error('Geolocation not supported'));
                    return;
                }

                const options = {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 60000
                };

                navigator.geolocation.getCurrentPosition(
                    async (position) => {
                        const { latitude, longitude } = position.coords;
                        
                        try {
                            const addressInfo = await reverseGeocode(latitude, longitude);
                            const locationData = {
                                coordinates: { latitude, longitude },
                                address: addressInfo.address,
                                district: addressInfo.district,
                                state: addressInfo.state,
                                country: addressInfo.country,
                                accuracy: position.coords.accuracy
                            };
                            resolve(locationData);
                        } catch (error) {
                            resolve({
                                coordinates: { latitude, longitude },
                                address: 'Address lookup failed',
                                district: 'Unknown District',
                                state: 'Unknown State',
                                country: 'India',
                                accuracy: position.coords.accuracy
                            });
                        }
                    },
                    (error) => {
                        reject(error);
                    },
                    options
                );
            });
        }

        // Reverse geocoding simulation (in real app, use a service like OpenStreetMap Nominatim)
        async function reverseGeocode(lat, lng) {
            // Simulate API call delay
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            // Return mock address data
            return {
                address: `${Math.floor(Math.random() * 999) + 1} Main Road, Village Center`,
                district: `District ${Math.floor(Math.random() * 100) + 1}`,
                state: 'Sample State',
                country: 'India'
            };
        }

        // Initialize speech recognition
        function initSpeechRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.maxAlternatives = 1;
               
                recognition.onstart = function() {
                    isRecording = true;
                    updateVoiceButton();
                };
               
                recognition.onresult = function(event) {
                    let finalTranscript = '';
                    for (let i = event.resultIndex; i < event.results.length; i++) {
                        if (event.results[i].isFinal) {
                            finalTranscript += event.results[i][0].transcript + ' ';
                        }
                    }
                    if (finalTranscript) {
                        const descriptionField = document.getElementById('description');
                        descriptionField.value += finalTranscript;
                    }
                };
               
                recognition.onerror = function(event) {
                    console.error('Speech recognition error:', event.error);
                    stopRecording();
                    alert('Voice recognition error: ' + event.error);
                };
               
                recognition.onend = function() {
                    isRecording = false;
                    updateVoiceButton();
                };
            }
        }

        // Tab switching functionality
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
           
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
           
            document.getElementById(tabName).classList.add('active');
           
            event.target.closest('.tab-button').classList.add('active');
        }

        // Voice recording functionality
        const voiceBtn = document.getElementById('voiceBtn');
        const voiceStatus = document.getElementById('voiceStatus');
        const voiceLanguageSelector = document.getElementById('voiceLanguageSelector');

        voiceBtn.addEventListener('click', function() {
            if (!recognition) {
                alert('Speech recognition is not supported in this browser.');
                return;
            }
           
            if (!isRecording) {
                startRecording();
            } else {
                stopRecording();
            }
        });

        function startRecording() {
            if (recognition) {
                recognition.lang = voiceLanguageSelector.value;
                recognition.start();
                updateVoiceButton();
                voiceStatus.textContent = 'Recording... Click to stop';
            }
        }

        function stopRecording() {
            if (recognition) {
                recognition.stop();
                updateVoiceButton();
                voiceStatus.textContent = 'Voice recording completed';
            }
        }

        function updateVoiceButton() {
            if (isRecording) {
                voiceBtn.classList.add('recording');
                voiceBtn.innerHTML = '<div class="spinner"></div> Recording...';
            } else {
                voiceBtn.classList.remove('recording');
                voiceBtn.innerHTML = 'ЁЯОд Record Voice Message';
            }
        }

        // Enhanced document upload functionality
        const documentUpload = document.getElementById('documentUpload');
        const identityProof = document.getElementById('identityProof');
        const documentPreview = document.getElementById('documentPreview');
        const documentError = document.getElementById('documentError');

        documentUpload.addEventListener('dragover', function(e) {
            e.preventDefault();
            this.classList.add('dragover');
        });

        documentUpload.addEventListener('dragleave', function() {
            this.classList.remove('dragover');
        });

        documentUpload.addEventListener('drop', function(e) {
            e.preventDefault();
            this.classList.remove('dragover');
            const files = e.dataTransfer.files;
            handleFileUpload(files);
        });

        identityProof.addEventListener('change', function() {
            handleFileUpload(this.files);
        });

        async function handleFileUpload(files) {
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
               
                // Validate file type
                if (!['image/jpeg', 'image/jpg', 'image/png', 'application/pdf'].includes(file.type)) {
                    alert('Only JPG, PNG, and PDF files are allowed.');
                    continue;
                }
               
                // Validate file size (5MB max)
                if (file.size > 5 * 1024 * 1024) {
                    alert('File size must be less than 5MB.');
                    continue;
                }

                const fileData = {
                    file: file,
                    isValid: null,
                    validationResult: null
                };
               
                uploadedFiles.push(fileData);
                displayFilePreview(fileData);
                
                // Validate document asynchronously
                validateDocumentAsync(fileData);
            }
            
            documentError.style.display = 'none';
        }

        async function validateDocumentAsync(fileData) {
            const previewItem = document.querySelector(`[data-file-name="${fileData.file.name}"]`);
            const statusElement = previewItem.querySelector('.preview-status');
            
            statusElement.textContent = 'Validating document...';
            statusElement.className = 'preview-status checking';
            
            try {
                const validationResult = await DocumentValidator.validateDocument(fileData.file);
                fileData.validationResult = validationResult;
                fileData.isValid = validationResult.isValid;
                
                if (validationResult.isValid) {
                    statusElement.textContent = `тЬУ Valid ${validationResult.documentType.replace('_', ' ').toUpperCase()} (${Math.round(validationResult.confidence)}% confidence)`;
                    statusElement.className = 'preview-status valid';
                    previewItem.classList.remove('invalid');
                } else {
                    statusElement.textContent = `тЬЧ Invalid document: ${validationResult.errors.join(', ')}`;
                    statusElement.className = 'preview-status invalid';
                    previewItem.classList.add('invalid');
                }
            } catch (error) {
                statusElement.textContent = 'тЬЧ Validation failed';
                statusElement.className = 'preview-status invalid';
                previewItem.classList.add('invalid');
                fileData.isValid = false;
            }
            
            updateDocumentValidationStatus();
        }

        function displayFilePreview(fileData) {
            const file = fileData.file;
            const previewItem = document.createElement('div');
            previewItem.className = 'preview-item';
            previewItem.setAttribute('data-file-name', file.name);
           
            const fileIcon = file.type.includes('pdf') ? 'ЁЯУД' : 'ЁЯЦ╝я╕П';
            const fileSize = (file.size / (1024 * 1024)).toFixed(2) + ' MB';
           
            previewItem.innerHTML = `
                <div class="preview-icon">${fileIcon}</div>
                <div class="preview-info">
                    <div class="preview-name">${file.name}</div>
                    <div class="preview-size">${fileSize}</div>
                    <div class="preview-status checking">Checking document...</div>
                </div>
                <button type="button" class="remove-file" onclick="removeFile('${file.name}')">Remove</button>
            `;
           
            documentPreview.appendChild(previewItem);
            documentPreview.style.display = 'block';
        }

        function removeFile(fileName) {
            uploadedFiles = uploadedFiles.filter(fileData => fileData.file.name !== fileName);
           
            const previewItems = documentPreview.querySelectorAll('.preview-item');
            previewItems.forEach(item => {
                if (item.getAttribute('data-file-name') === fileName) {
                    item.remove();
                }
            });
           
            if (uploadedFiles.length === 0) {
                documentPreview.style.display = 'none';
            }
            
            updateDocumentValidationStatus();
        }

        function updateDocumentValidationStatus() {
            const validFiles = uploadedFiles.filter(fileData => fileData.isValid === true);
            const invalidFiles = uploadedFiles.filter(fileData => fileData.isValid === false);
            
            if (uploadedFiles.length === 0) {
                documentUpload.classList.remove('error');
                documentError.style.display = 'none';
            } else if (validFiles.length === 0 && uploadedFiles.some(fileData => fileData.isValid !== null)) {
                documentUpload.classList.add('error');
                documentError.textContent = 'No valid documents found. Please upload authentic identity documents.';
                documentError.style.display = 'block';
            } else if (validFiles.length > 0) {
                documentUpload.classList.remove('error');
                documentError.style.display = 'none';
            }
        }

        // Phone number validation
        const contactInput = document.getElementById('contact');
        const phoneError = document.getElementById('phoneError');
        const phoneSuccess = document.getElementById('phoneSuccess');

        contactInput.addEventListener('input', function() {
            const phone = this.value;
            
            if (phone.length === 0) {
                phoneError.style.display = 'none';
                phoneSuccess.style.display = 'none';
                this.classList.remove('error');
                return;
            }
            
            if (validatePhoneNumber(phone)) {
                this.classList.remove('error');
                phoneError.style.display = 'none';
                phoneSuccess.style.display = 'block';
            } else {
                this.classList.add('error');
                phoneError.style.display = 'block';
                phoneSuccess.style.display = 'none';
            }
        });

        // Enhanced location functionality
        async function initializeLocation() {
            const coordinatesEl = document.getElementById('coordinates');
            const addressEl = document.getElementById('address');
            const districtEl = document.getElementById('district');
            
            try {
                coordinatesEl.textContent = 'Getting location...';
                addressEl.textContent = 'Waiting for coordinates...';
                districtEl.textContent = 'Waiting for location...';
                
                const locationData = await getEnhancedLocation();
                currentLocation = locationData;
                
                coordinatesEl.textContent = `${locationData.coordinates.latitude.toFixed(6)}, ${locationData.coordinates.longitude.toFixed(6)}`;
                coordinatesEl.className = 'location-success';
                
                addressEl.textContent = locationData.address;
                addressEl.className = 'location-success';
                
                districtEl.textContent = `${locationData.district}, ${locationData.state}`;
                districtEl.className = 'location-success';
                
            } catch (error) {
                coordinatesEl.textContent = 'Location access denied or unavailable';
                coordinatesEl.className = 'location-error';
                
                addressEl.textContent = 'Unable to determine address';
                addressEl.className = 'location-error';
                
                districtEl.textContent = 'Please enter manually if needed';
                districtEl.className = 'location-error';
                
                console.error('Location error:', error);
            }
        }

        // Enhanced form submission
        document.getElementById('complaintForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const originalText = submitBtn.innerHTML;
            
            // Validate documents
            const validFiles = uploadedFiles.filter(fileData => fileData.isValid === true);
            if (validFiles.length === 0) {
                alert('Please upload at least one valid identity document.');
                return;
            }
            
            // Validate phone number
            if (!validatePhoneNumber(contactInput.value)) {
                alert('Please enter a valid 10-digit mobile number.');
                contactInput.focus();
                return;
            }
            
            // Show loading state
            submitBtn.innerHTML = '<div class="spinner"></div> Submitting...';
            submitBtn.disabled = true;
            
            // Simulate form submission delay
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // Generate complaint ID
            const complaintId = 'CMP-2024-' + (complaints.length + 1).toString().padStart(3, '0');
            
            // Create complaint object
            const complaint = {
                id: complaintId,
                type: document.getElementById('complaintType').value,
                description: document.getElementById('description').value,
                priority: document.getElementById('priority').value,
                contact: contactInput.value,
                location: currentLocation,
                documents: validFiles.map(fileData => ({
                    name: fileData.file.name,
                    type: fileData.validationResult.documentType,
                    confidence: fileData.validationResult.confidence
                })),
                status: 'submitted',
                submittedAt: new Date().toISOString(),
                timeline: [{
                    status: 'submitted',
                    timestamp: new Date().toISOString(),
                    description: 'Complaint submitted successfully'
                }]
            };
            
            // Store complaint
            complaints.push(complaint);
            localStorage.setItem('complaints', JSON.stringify(complaints));
            
            const message = `тЬЕ Complaint submitted successfully!\n\nComplaint ID: ${complaintId}\n\nDocuments validated: ${validFiles.length}\nLocation captured: ${currentLocation ? 'Yes' : 'No'}\n\nYou will receive SMS updates on ${contactInput.value}`;
            alert(message);
            
            // Reset form
            this.reset();
            uploadedFiles = [];
            documentPreview.style.display = 'none';
            documentPreview.innerHTML = '';
            phoneError.style.display = 'none';
            phoneSuccess.style.display = 'none';
            contactInput.classList.remove('error');
            
            // Reset button
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        });

        // Enhanced search functionality
        function searchComplaints() {
            const trackingId = document.getElementById('trackingId').value.trim();
            const searchResults = document.getElementById('searchResults');
            const noComplaints = document.getElementById('noComplaints');
            
            if (trackingId === '') {
                alert('Please enter a complaint ID or mobile number');
                return;
            }
            
            // Hide all complaints first
            const allComplaints = searchResults.querySelectorAll('.complaint-card');
            allComplaints.forEach(card => card.style.display = 'none');
            
            let foundComplaints = [];
            
            // Search in stored complaints
            const storedComplaints = JSON.parse(localStorage.getItem('complaints') || '[]');
            foundComplaints = storedComplaints.filter(complaint => 
                complaint.id.toLowerCase().includes(trackingId.toLowerCase()) ||
                complaint.contact.includes(trackingId)
            );
            
            // Also check sample complaints
            if (trackingId.toLowerCase().includes('cmp-2024-001') || trackingId.includes('001')) {
                document.querySelector('[data-complaint-id="CMP-2024-001"]').style.display = 'block';
                foundComplaints.push({});
            }
            if (trackingId.toLowerCase().includes('cmp-2024-002') || trackingId.includes('002')) {
                document.querySelector('[data-complaint-id="CMP-2024-002"]').style.display = 'block';
                foundComplaints.push({});
            }
            
            // Display stored complaints
            foundComplaints.forEach(complaint => {
                if (complaint.id) {
                    displaySearchedComplaint(complaint);
                }
            });
            
            if (foundComplaints.length === 0) {
                noComplaints.style.display = 'block';
                searchResults.style.display = 'none';
            } else {
                noComplaints.style.display = 'none';
                searchResults.style.display = 'block';
                alert(`ЁЯФН Search completed!\n\nFound ${foundComplaints.length} complaint(s) for: ${trackingId}`);
            }
        }

        function displaySearchedComplaint(complaint) {
            const complaintCard = document.createElement('div');
            complaintCard.className = 'complaint-card';
            complaintCard.innerHTML = `
                <div class="complaint-header">
                    <span class="complaint-id">${complaint.id}</span>
                    <span class="status-badge status-${complaint.status}">${complaint.status.charAt(0).toUpperCase() + complaint.status.slice(1)}</span>
                </div>
                <h3>${complaint.description.substring(0, 50)}...</h3>
                <p><strong>Location:</strong> ${complaint.location ? complaint.location.address : 'Not available'}</p>
                <p><strong>Submitted:</strong> ${new Date(complaint.submittedAt).toLocaleDateString()}</p>
                <p><strong>Priority:</strong> ${complaint.priority.charAt(0).toUpperCase() + complaint.priority.slice(1)}</p>
                <p><strong>Documents:</strong> ${complaint.documents.length} validated</p>
            `;
            
            document.getElementById('searchResults').appendChild(complaintCard);
        }

        // Language switching functionality (simplified for this example)
        function switchLanguage(lang) {
            currentLanguage = lang;
            // Update all elements with data-lang attribute
            document.querySelectorAll('[data-lang]').forEach(element => {
                const key = element.getAttribute('data-lang');
                if (translations[lang] && translations[lang][key]) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = translations[lang][key];
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });

            // Update select options
            const selects = document.querySelectorAll('select option[data-lang]');
            selects.forEach(option => {
                const key = option.getAttribute('data-lang');
                if (translations[lang] && translations[lang][key]) {
                    const icon = option.innerHTML.split(' ')[0];
                    option.innerHTML = icon + ' ' + translations[lang][key];
                }
            });

            // Update voice language selector to match current language
            const voiceLangMap = {
                'en': 'en-US',
                'hi': 'hi-IN',
                'ta': 'ta-IN',
                'bn': 'bn-IN'
            };
           
            if (voiceLangMap[lang]) {
                voiceLanguageSelector.value = voiceLangMap[lang];
            }
        }

        // Language selector event listener
        document.getElementById('languageSelector').addEventListener('change', function() {
            const selectedLang = this.value;
            switchLanguage(selectedLang);
        });

        // Offline detection
        window.addEventListener('online', function() {
            document.getElementById('offlineIndicator').classList.remove('show');
            // Sync offline data when coming online
            syncOfflineData();
        });

        window.addEventListener('offline', function() {
            document.getElementById('offlineIndicator').classList.add('show');
        });

        function syncOfflineData() {
            const offlineComplaints = JSON.parse(localStorage.getItem('offlineComplaints') || '[]');
            if (offlineComplaints.length > 0) {
                // In a real app, this would send data to the server
                console.log('Syncing offline complaints:', offlineComplaints);
                
                // Move offline complaints to main complaints
                const allComplaints = JSON.parse(localStorage.getItem('complaints') || '[]');
                allComplaints.push(...offlineComplaints);
                localStorage.setItem('complaints', JSON.stringify(allComplaints));
                localStorage.removeItem('offlineComplaints');
                
                alert(`ЁЯУб Synced ${offlineComplaints.length} offline complaints to server!`);
            }
        }

        // Initialize everything on page load
        window.addEventListener('load', function() {
            initSpeechRecognition();
            initializeLocation();
            
            // Check if there are offline complaints to sync
            if (navigator.onLine) {
                syncOfflineData();
            }
        });

        // PWA installation prompt (simulated)
        window.addEventListener('load', function() {
            setTimeout(() => {
                if (confirm('ЁЯУ▒ Install SMART Complaint System as a mobile app for offline access?\n\nThis will enable you to file complaints even without internet connection.')) {
                    alert('тЬЕ App installation started!\n\nThe app will be available on your home screen shortly.');
                }
            }, 5000);
        });

        // Service Worker registration (for PWA functionality)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                // In a real app, you would register a service worker here
                console.log('Service Worker support detected');
            });
        }

        // Enhanced error handling
        window.addEventListener('error', function(e) {
            console.error('Application error:', e.error);
            // In production, this would log to a monitoring service
        });

        // Auto-save form data periodically (for offline support)
        let autoSaveInterval;
        
        function startAutoSave() {
            autoSaveInterval = setInterval(() => {
                const formData = {
                    complaintType: document.getElementById('complaintType').value,
                    description: document.getElementById('description').value,
                    priority: document.getElementById('priority').value,
                    contact: document.getElementById('contact').value,
                    timestamp: new Date().toISOString()
                };
                
                if (formData.description || formData.contact) {
                    localStorage.setItem('draftComplaint', JSON.stringify(formData));
                }
            }, 30000); // Save every 30 seconds
        }

        function loadDraftData() {
            const draft = localStorage.getItem('draftComplaint');
            if (draft) {
                const data = JSON.parse(draft);
                if (confirm('Found a saved draft from your previous session. Would you like to restore it?')) {
                    document.getElementById('complaintType').value = data.complaintType || '';
                    document.getElementById('description').value = data.description || '';
                    document.getElementById('priority').value = data.priority || '';
                    document.getElementById('contact').value = data.contact || '';
                }
                localStorage.removeItem('draftComplaint');
            }
        }

        // Load draft data on page load
        window.addEventListener('load', loadDraftData);
        
        // Start auto-save when user starts typing
        document.getElementById('description').addEventListener('input', function() {
            if (!autoSaveInterval) {
                startAutoSave();
            }
        });

        // Clear auto-save on successful submission
        document.getElementById('complaintForm').addEventListener('submit', function() {
            if (autoSaveInterval) {
                clearInterval(autoSaveInterval);
                autoSaveInterval = null;
            }
            localStorage.removeItem('draftComplaint');
        });

        // Accessibility improvements
        document.addEventListener('keydown', function(e) {
            // Keyboard navigation for tabs
            if (e.altKey && e.key >= '1' && e.key <= '4') {
                const tabIndex = parseInt(e.key) - 1;
                const tabs = ['complaint', 'track', 'dashboard', 'features'];
                if (tabs[tabIndex]) {
                    switchTab(tabs[tabIndex]);
                }
                e.preventDefault();
            }
        });

        // Performance monitoring
        function measurePerformance() {
            if ('performance' in window) {
                const perfData = performance.getEntriesByType('navigation')[0];
                console.log('Page load time:', perfData.loadEventEnd - perfData.navigationStart, 'ms');
            }
        }

        window.addEventListener('load', measurePerformance);
    </script>
</body>
</html>